USE [Risks_issues_DEVL]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[Risks](
       [risk_key] [int] IDENTITY(1,1) NOT NULL,
       [risk_ref_id] [varchar](10) NULL,
       [risk_descr] [varchar](50) NULL,
       [raised_by] [varchar](50) NULL,
       [date_raised] [date] NULL,
       [pre_mitigation_impact] [varchar](20) NULL,
       [pre_mitigation_probability] [varchar](20) NULL,
       [pre_mitigation_risk_level] [varchar](20) NULL,
       [mitigation_plan] [varchar](512) NULL,
       [post_mitigation_impact] [varchar](20) NULL,
       [post_mitigation_probability] [varchar](20) NULL,
       [post_mitigation_risk_level] [varchar](20) NULL,
       [owner] [varchar](50) NULL,
       [last_review_date] [date] NULL,
       [next_review_date] [date] NULL,
       [category] [varchar](20) NULL,
       [status] [varchar](20) NULL,
       [comments] [varchar](8000) NULL,
CONSTRAINT [PK_Risks] PRIMARY KEY CLUSTERED 
(
       [risk_key] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
/****** Object:  Table [dbo].[Risks_link]    Script Date: 09/10/2015 7:54:02 a.m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Risks_link](
       [risk_from] [int] NOT NULL,
       [risk_to] [int] NULL
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[Risks_link]  WITH CHECK ADD  CONSTRAINT [FK_Risks_link_Risks_from] FOREIGN KEY([risk_from])
REFERENCES [dbo].[Risks] ([risk_key])
GO
ALTER TABLE [dbo].[Risks_link] CHECK CONSTRAINT [FK_Risks_link_Risks_from]
GO
ALTER TABLE [dbo].[Risks_link]  WITH CHECK ADD  CONSTRAINT [FK_Risks_link_Risks_to] FOREIGN KEY([risk_to])
REFERENCES [dbo].[Risks] ([risk_key])
GO
ALTER TABLE [dbo].[Risks_link] CHECK CONSTRAINT [FK_Risks_link_Risks_to]
GO
